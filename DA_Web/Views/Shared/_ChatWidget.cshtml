<div id="chat-widget">
    <!-- Chat Launcher Button -->
    <div id="chat-launcher" class="chat-launcher" onclick="toggleChat()">
        <svg width="34" height="34" fill="white" viewBox="0 0 24 24">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" />
        </svg>
        <div class="unread-badge" style="display: none;">0</div>
    </div>

    <!-- Chat Container -->
    <div id="chat-container" class="chat-container" style="display: none;">
        <div class="chat-header">
            <h3>Trợ lý du lịch Phú Yên</h3>
            <button class="chat-close-btn" onclick="toggleChat()">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                    <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                </svg>
            </button>
        </div>

        <div id="chat-messages" class="chat-messages">
            <div class="chat-welcome">
                <div class="chat-welcome-icon">🏝️</div>
                <h4>Xin chào!</h4>
                <p>Tôi là trợ lý du lịch Phú Yên. Tôi có thể giúp bạn?</p>
                <div class="chat-suggestions">
                    <button onclick="sendSuggestedMessage('Giới thiệu về Phú Yên')">
                        Giới thiệu Phú Yên
                    </button>
                    <button onclick="sendSuggestedMessage('Thời tiết ở Phú Yên như thế nào?')">
                        Thời tiết Phú Yên
                    </button>
                    <button onclick="sendSuggestedMessage('Các tour du lịch có gì?')">
                        Tour du lịch
                    </button>
                    <button onclick="sendSuggestedMessage('Địa điểm nổi tiếng?')">
                        Địa điểm nổi tiếng
                    </button>
                </div>
            </div>
        </div>

        <div id="typing-indicator" class="chat-message bot" style="display: none;">
            <div class="message-avatar">🤖</div>
            <div class="message-content">
                <div class="typing-indicator">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </div>

        <form class="chat-input-container" onsubmit="event.preventDefault(); sendMessage();">
            <input type="text"
                   id="chat-input"
                   placeholder="Nhập câu hỏi của bạn..."
                   autocomplete="off" />
            <button type="submit" class="chat-send-btn">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                </svg>
            </button>
        </form>
    </div>
</div>

@* <!-- Chat Widget Enhanced -->
<div id="chat-widget">
    <!-- Chat Launcher Button -->
    <div id="chat-launcher" class="chat-launcher" onclick="toggleChat()">
        <svg width="34" height="34" fill="white" viewBox="0 0 24 24">
            <path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z" />
        </svg>
        <div class="unread-badge" style="display: none;">0</div>
    </div>

    <!-- Chat Container -->
    <div id="chat-container" class="chat-container" style="display: none;">
        <div class="chat-header">
            <h3>🌴 Trợ lý du lịch Phú Yên</h3>
            <div class="header-controls">
                <!-- Language Selector -->
                <div class="language-selector">
                    <button class="language-current">🇻🇳</button>
                    <div class="language-dropdown">
                        <div class="language-option" data-lang="vi">🇻🇳 Tiếng Việt</div>
                        <div class="language-option" data-lang="en">🇬🇧 English</div>
                        <div class="language-option" data-lang="ko">🇰🇷 한국어</div>
                        <div class="language-option" data-lang="zh">🇨🇳 中文</div>
                    </div>
                </div>

                <!-- Voice Output Toggle -->
                <button class="voice-output-btn" title="Bật/Tắt giọng nói">🔊</button>

                <!-- Close Button -->
                <button class="chat-close-btn" onclick="toggleChat()">
                    <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z" />
                    </svg>
                </button>
            </div>
        </div>

        <div id="chat-messages" class="chat-messages">
            <div class="chat-welcome">
                <div class="chat-welcome-icon">🏝️</div>
                <h4>Xin chào!</h4>
                <p>Tôi là trợ lý du lịch Phú Yên. Tôi có thể giúp bạn?</p>
                <div class="chat-suggestions">
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Giới thiệu về Phú Yên')">
                        Giới thiệu Phú Yên
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Thời tiết ở Phú Yên như thế nào?')">
                        Thời tiết Phú Yên
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Các tour du lịch có gì?')">
                        Tour du lịch
                    </button>
                    <button class="suggestion-btn" onclick="sendSuggestedMessage('Địa điểm nổi tiếng?')">
                        Địa điểm nổi tiếng
                    </button>
                </div>
            </div>
        </div>

        <form class="chat-input-container" id="chat-form" onsubmit="event.preventDefault(); sendMessage();">
            <button type="button" class="voice-input-btn" title="Nhập bằng giọng nói">🎤</button>
            <input type="text"
                   id="chat-input"
                   placeholder="Nhập câu hỏi của bạn..."
                   autocomplete="off" />
            <button type="submit" class="chat-send-btn" id="send-btn">
                <svg width="24" height="24" fill="white" viewBox="0 0 24 24">
                    <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                </svg>
            </button>
        </form>
    </div>
</div> *@
<script src="~/js/chatbot.js" defer></script>
<!-- Toast Container -->
<div id="toast-container"></div>

<!-- Styles -->
<link rel="stylesheet" href="~/css/chatbot.css" />

<!-- Scripts -->
<script src="https://cdn.jsdelivr.net/npm/@@microsoft/signalr@latest/dist/browser/signalr.js"></script>
<script>
    // Check SignalR loaded
    if (typeof signalR === 'undefined') {
        console.error('SignalR library not loaded!');
    }
</script>
